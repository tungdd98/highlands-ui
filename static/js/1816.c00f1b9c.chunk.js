"use strict";(self.webpackChunkhighlands_ui=self.webpackChunkhighlands_ui||[]).push([[1816],{81544:function(e,n,t){var i=t(1413),s=t(45987),r=t(72791),l=t(68096),a=t(20890),o=t(99321),c=t(23786),d=t(47071),u=t(55705),h=t(763),m=t(15897),x=t(80184),Z=["fullWidth","label","id","name","displayEmpty","variant","options","ns"],f=function(e){var n=e.fullWidth,t=e.label,r=e.id,f=e.name,j=e.displayEmpty,p=void 0===j||j,g=e.variant,v=void 0===g?"filled":g,b=e.options,y=e.ns,P=void 0===y?"admin":y,w=(0,s.Z)(e,Z),S=(0,m.$)().t,C=(0,u.u6)(),R=C.errors,E=C.touched,I=C.values,D=C.handleChange,T=(0,h.get)(R,f)&&(0,h.get)(E,f),W=(0,h.get)(R,f);return(0,x.jsxs)(l.Z,{sx:{minWidth:120},fullWidth:n,children:[t&&(0,x.jsx)(a.Z,{sx:{mb:1,fontWeight:"fontWeightMedium"},children:(0,x.jsx)("label",{htmlFor:"label-".concat(r||f),children:S("label.".concat(t),{ns:P})})}),(0,x.jsxs)(u.gN,(0,i.Z)((0,i.Z)({},w),{},{label:"",hiddenLabel:!0,displayEmpty:p,labelId:"label-".concat(r||f),component:o.Z,onChange:D,id:r||f,name:f,variant:v,error:!!T,value:(0,h.get)(I,f),inputProps:{name:f},children:[(0,x.jsx)(c.Z,{value:"",children:(0,x.jsx)("em",{children:S("common.None",{ns:P})})}),b.map((function(e){return(0,x.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))]})),W&&(0,x.jsx)(d.Z,{error:!0,children:W})]})};n.Z=(0,r.memo)(f)},53287:function(e,n,t){var i,s=t(1413),r=t(29439),l=t(45987),a=t(4942),o=t(72791),c=t(47630),d=t(64554),u=t(763),h=t(17178),m=t(87198),x=t(80184),Z=["src","alt","file","resizedDimension","borderRadius","aspectRatio","width","fakeImages"],f=(0,c.ZP)("img")((function(){return{maxWidth:"100%",height:"100%",display:"block",objectFit:"cover"}})),j=(i={},(0,a.Z)(i,m.zl.PRODUCT,m.gF),(0,a.Z)(i,m.zl.BANNER,m.g_),i),p=function(e){var n=e.src,t=e.alt,i=void 0===t?"alt":t,a=e.file,c=e.resizedDimension,p=e.borderRadius,g=void 0===p?1:p,v=e.aspectRatio,b=e.width,y=e.fakeImages,P=void 0===y?m.zl.PRODUCT:y,w=(0,l.Z)(e,Z),S=(0,o.useState)(),C=(0,r.Z)(S,2),R=C[0],E=C[1],I=(0,o.useRef)(null),D=(0,o.useCallback)((function(){I.current&&v&&I.current.width&&I.current.style.setProperty("height","".concat(I.current.width/v,"px"))}),[v]),T=(0,o.useCallback)((function(){D()}),[D]);(0,o.useEffect)((function(){var e=new FileReader;if(a&&a instanceof File)e.onloadend=function(e){if(c){var n,t,i=document.createElement("canvas");i.width=c.width,i.height=c.height;var s=i.getContext("2d"),r=new Image;r.onload=function(){s.drawImage(r,0,0,c.width,c.height);var e=i.toDataURL(a.type);E(e)},r.src=(null===(n=e.target)||void 0===n||null===(t=n.result)||void 0===t?void 0:t.toString())||""}else{var l,o;E(null===(l=e.target)||void 0===l||null===(o=l.result)||void 0===o?void 0:o.toString())}},e.readAsDataURL(a);else if("string"===typeof a){if(R===a)return;E(a)}else{if(null===R)return;E(null)}}),[a,R,c]);var W=(0,o.useMemo)((function(){return n?n.match(/^(blob:)?https?:\/\/[\w/:%#$&?()~.=+-]+$/g)?n:"".concat("http://localhost:8080/uploads/"+n):""}),[n]);return(0,x.jsx)(d.Z,{sx:{width:"100%"},children:(0,x.jsx)(f,(0,s.Z)((0,s.Z)({src:R||W||h,alt:i},w),{},{sx:{borderRadius:g,width:b||"100%"},onError:function(e){var n=e.currentTarget;n.onerror=null,n.src=(0,u.sample)(j[P])||""},ref:function(e){e&&(I.current=e,e.onload=T,e.complete&&T())},style:{height:w.height}}))})};n.Z=(0,o.memo)(p)},71816:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(29439),s=t(72791),r=t(68593),l=t(64554),a=t(20890),o=t(36151),c=t(60902),d=t(15897),u=t(91523),h=t(27735),m=t(87198),x=t(38355),Z=t(16121),f=t(38463),j=t(1413),p=t(23573),g=t(11566),v=t(10703),b=t(39281),y=t(79836),P=t(22041),w=t(35855),S=t(53994),C=t(53382),R=t(13400),E=t(67492),I=t(8785),D=t(79271),T=t(20139),W=t(47610),k=t(53287),z=t(8056),F=t(83506),A=t(42185),U=t(12583),M=t(82179),O=t(80184),N=function(e){var n=e.products,t=e.total,r=e.queries,l=e.setQueries,a=(0,d.$)().t,o=(0,D.k6)(),u=(0,f.TL)(),h=(0,s.useState)(!1),x=(0,i.Z)(h,2),N=x[0],Q=x[1],$=(0,s.useState)(null),H=(0,i.Z)($,2),L=H[0],_=H[1],q=(0,s.useState)(null),V=(0,i.Z)(q,2),Y=V[0],B=V[1];return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(v.Z,{elevation:3,children:[(0,O.jsx)(b.Z,{children:(0,O.jsxs)(y.Z,{children:[(0,O.jsx)(P.Z,{children:(0,O.jsxs)(w.Z,{children:[(0,O.jsx)(S.Z,{}),(0,O.jsx)(S.Z,{children:a("label.ID",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Title",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Thumbnail",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Price",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Quantity",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Hot product",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Status",{ns:"admin"})}),(0,O.jsx)(S.Z,{children:a("label.Created at",{ns:"admin"})})]})}),(0,O.jsx)(C.Z,{children:n.map((function(e){return(0,O.jsxs)(w.Z,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,O.jsx)(S.Z,{width:80,children:(0,O.jsx)(R.Z,{onClick:function(n){return function(e,n){B(e.currentTarget),_(n)}(n,e)},children:(0,O.jsx)(p.Z,{})})}),(0,O.jsx)(S.Z,{component:"th",scope:"row",children:e.id}),(0,O.jsx)(S.Z,{children:e.title}),(0,O.jsx)(S.Z,{children:(0,O.jsx)(k.Z,{aspectRatio:m.tB.THREE_TO_FOUR,width:80,src:e.thumbnail})}),(0,O.jsx)(S.Z,{children:(0,F.j)(e.price)}),(0,O.jsx)(S.Z,{children:e.quantity}),(0,O.jsx)(S.Z,{children:(0,O.jsx)(g.Z,{fontSize:"small",color:e.isHot===Z.PA.HOT?"success":"error"})}),(0,O.jsx)(S.Z,{children:(0,O.jsx)(g.Z,{fontSize:"small",color:e.status===Z.X.DISPLAY?"success":"error"})}),(0,O.jsx)(S.Z,{children:(0,A.p)(e.createdAt)})]},e.id)}))})]})}),(0,O.jsx)(E.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:t,rowsPerPage:(null===r||void 0===r?void 0:r.perPage)||5,page:r.page-1,onPageChange:function(e,n){l((function(e){return(0,j.Z)((0,j.Z)({},e),{},{page:n+1})}))},onRowsPerPageChange:function(e){l((function(n){return(0,j.Z)((0,j.Z)({},n),{},{page:1,perPage:parseInt(e.target.value,10)})}))},labelRowsPerPage:a("label.Rows per page",{ns:"admin"})})]}),(0,O.jsx)(T.Z,{open:N,onClose:function(){return Q(!1)},onSubmit:function(){L&&u((0,Z.Ir)(L.id)).then(I.SI).then((function(){return u((0,M.WP)({message:z.F.DELETE_SUCCESS}))})).catch((function(){return(0,U.y)({dispatch:u})})).finally((function(){return Q(!1)}))},title:a("common.Do you want delete record?",{ns:"admin"})}),(0,O.jsx)(W.Z,{anchorEl:Y,handleCloseMenu:function(){B(null)},handleOpenDeleteDialog:function(){Q(!0)},handleRedirectEditPage:function(){L&&o.push((0,c.MY)(Z.UQ.EDIT)({mode:m.$y.EDIT,productId:L.id}))}})]})},Q=(0,s.memo)(N),$=t(61889),H=t(55705),L=t(763),_=t(81544),q=t(15504),V=function(e){var n=e.isSubmitting,t=e.setIsSubmitting,i=e.queries,r=e.setQueries,c=(0,d.$)().t,u=(0,f.CG)((function(e){return e.category})).allCategory,h=(0,s.useMemo)((function(){return(null===u||void 0===u?void 0:u.map((function(e){return{label:e.title,value:e.id}})))||[]}),[u]);return(0,O.jsxs)(l.Z,{sx:{p:3,mb:4},component:v.Z,elevation:3,children:[(0,O.jsx)(a.Z,{variant:"h5",children:c("button.Search",{ns:"admin"})}),(0,O.jsx)(l.Z,{mt:3,children:(0,O.jsx)(H.J9,{validationSchema:Z.sx,initialValues:i,onSubmit:function(e){r(e),Object.values((0,L.omit)(e,["page","perPage"])).some((function(e){return!!e}))&&t(!0)},children:(0,O.jsxs)(H.l0,{children:[(0,O.jsxs)($.ZP,{container:!0,spacing:2,children:[(0,O.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsx)(q.Z,{name:"id",label:"ID",placeholder:"example",fullWidth:!0})}),(0,O.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsx)(q.Z,{name:"title",label:"Title",placeholder:"example",fullWidth:!0})}),(0,O.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsx)(_.Z,{name:"isHot",label:"Hot product",options:Z.bZ,fullWidth:!0})}),(0,O.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsx)(_.Z,{name:"status",label:"Status",options:Z.Wi,fullWidth:!0})}),(0,O.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsx)(_.Z,{name:"categoryId",label:"Categories",options:h,fullWidth:!0})})]}),(0,O.jsx)(l.Z,{sx:{textAlign:"right",mt:2},children:(0,O.jsx)(o.Z,{variant:"contained",color:"secondary",size:"large",type:"submit",disabled:n,children:c("button.Search",{ns:"admin"})})})]})})})]})},Y=(0,s.memo)(V),B=function(){var e=(0,d.$)().t,n=(0,f.TL)(),t=(0,f.CG)((function(e){return e.product})).products,j=(0,s.useState)(!0),p=(0,i.Z)(j,2),g=p[0],v=p[1],b=(0,s.useState)(!1),y=(0,i.Z)(b,2),P=y[0],w=y[1],S=(0,s.useState)(Z.AF),C=(0,i.Z)(S,2),R=C[0],E=C[1];return(0,s.useEffect)((function(){n((0,Z.jw)(R)).finally((function(){v(!1),w(!1)}))}),[n,R]),(0,s.useEffect)((function(){n((0,x.KQ)({type:x.o5.PRODUCT}))}),[n]),g?(0,O.jsx)(h.Z,{}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(l.Z,{sx:{display:"flex",py:3,alignItems:"center",justifyContent:"space-between"},children:[(0,O.jsxs)(a.Z,{variant:"h5",children:[e("common.Manage",{ns:"admin"}),"\xa0",e("sidebar.Products",{ns:"admin"})]}),(0,O.jsx)(o.Z,{variant:"contained",startIcon:(0,O.jsx)(r.Z,{}),component:u.rU,size:"large",to:(0,c.MY)(Z.UQ.EDIT)({mode:m.$y.CREATE}),children:e("button.Add new",{ns:"admin"})})]}),(0,O.jsx)(Y,{isSubmitting:P,setIsSubmitting:w,queries:R,setQueries:E}),t&&t.list.length?(0,O.jsx)(Q,{products:t.list,total:t.totalItems,queries:R,setQueries:E}):(0,O.jsx)(a.Z,{children:e("common.No data",{ns:"admin"})})]})}},83506:function(e,n,t){t.d(n,{j:function(){return i}});var i=function(e,n){return new Intl.NumberFormat("vi-VN",{style:n?void 0:"currency",currency:"VND"}).format(e)}},68593:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded")},11566:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"CircleRounded")},17178:function(e,n,t){e.exports=t.p+"static/media/no-image.d09e503817275d6b9eb4.png"}}]);
//# sourceMappingURL=1816.c00f1b9c.chunk.js.map