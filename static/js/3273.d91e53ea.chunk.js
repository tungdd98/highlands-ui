"use strict";(self.webpackChunkhighlands_ui=self.webpackChunkhighlands_ui||[]).push([[3273],{99176:function(e,n,t){var i=t(45987),o=t(1413),r=t(72791),a=t(47630),c=t(20890),s=t(91523),l=t(80184),d=["to","children","disabledHover","isActive"],u=(0,a.ZP)(s.rU,{shouldForwardProp:function(e){return"disabledHover"!==e}})((function(e){var n=e.theme,t=e.disabledHover;return(0,o.Z)({textDecoration:"none",color:"inherit",transition:n.transitions.create("color",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})},!t&&{"&:hover":{color:n.palette.primary.main}})})),h=function(e){var n=e.to,t=e.children,r=e.disabledHover,a=e.isActive,s=(0,i.Z)(e,d);return(0,l.jsx)(c.Z,(0,o.Z)((0,o.Z)({color:a?"primary":"secondary.contrastText"},s),{},{children:(0,l.jsx)(u,{disabledHover:r,to:n,children:t})}))};n.Z=(0,r.memo)(h)},95306:function(e,n,t){var i=t(29439),o=t(72791),r=t(76794),a=t(10703),c=t(64554),s=t(20890),l=t(36151),d=t(53767),u=t(81918),h=t(8785),m=t(15897),x=t(79271),f=t(91523),v=t(95004),p=t(4166),Z=t(12583),j=t(38463),y=t(80184),b=function(e){var n=e.hiddenAction,t=e.hasEditButton,b=e.location,g=(0,m.$)().t,C=(0,x.k6)(),S=(0,j.TL)(),I=(0,j.CG)((function(e){return e.checkout})).location,k=(0,o.useState)(!1),w=(0,i.Z)(k,2),D=w[0],P=w[1],z=(null===I||void 0===I?void 0:I.id)===b.id;return(0,y.jsxs)(a.Z,{elevation:6,sx:{p:2,mb:2},children:[t&&(0,y.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[(0,y.jsx)(s.Z,{variant:"h6",sx:{fontWeight:600},children:g("common.Billing Address",{ns:"client"})}),(0,y.jsx)(l.Z,{size:"small",variant:"contained",startIcon:(0,y.jsx)(r.Z,{}),component:f.rU,to:p.D2.BILLING_AND_ADDRESS,children:g("button.Edit",{ns:"client"})})]}),(0,y.jsxs)(d.Z,{direction:"row",spacing:1,alignItems:"flex-end",children:[(0,y.jsx)(s.Z,{sx:{fontWeight:600},variant:"body1",children:b.name}),(0,y.jsxs)(s.Z,{variant:"caption",children:["(",g("common.Home address",{ns:"client"}),")"]}),z&&(0,y.jsx)(u.Z,{label:g("common.Selected",{ns:"client"}),color:"primary",size:"small"})]}),(0,y.jsx)(s.Z,{variant:"body2",sx:{mt:1},children:b.address}),(0,y.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[(0,y.jsx)(s.Z,{color:"grey.600",children:b.phone}),!n&&(0,y.jsxs)(d.Z,{direction:"row",spacing:1,children:[(0,y.jsx)(l.Z,{size:"small",variant:"outlined",color:"inherit",onClick:function(){P(!0),S((0,p.Ct)(b.id)).then(h.SI).then((function(){S((0,v.uB)(b.id))})).catch((function(){return(0,Z.y)({dispatch:S})})).finally((function(){return P(!1)}))},disabled:D,children:g("button.Delete",{ns:"client"})}),(0,y.jsx)(l.Z,{size:"small",variant:"outlined",color:"success",onClick:function(){S((0,p.l6)(b)),C.push(p.D2.PAYMENT)},children:g("button.Deliver To This Address",{ns:"client"})})]})]})]})};n.Z=(0,o.memo)(b)},9744:function(e,n,t){var i=t(72791),o=t(76794),r=t(10703),a=t(64554),c=t(20890),s=t(36151),l=t(94721),d=t(15897),u=t(91523),h=t(4166),m=t(83506),x=t(38463),f=t(80184),v=function(e){var n=e.hasEditButton,t=(0,d.$)().t,v=(0,x.CG)((function(e){return e})),p=v.checkout,Z=p.totalMoney,j=p.deliveryId,y=v.delivery.allDelivery,b=(0,i.useMemo)((function(){return null===y||void 0===y?void 0:y.find((function(e){return e.id===j}))}),[y,j]);return(0,f.jsxs)(r.Z,{elevation:6,sx:{p:2,mb:3},children:[(0,f.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[(0,f.jsx)(c.Z,{variant:"h6",children:t("common.Order Summary",{ns:"client"})}),n&&(0,f.jsx)(s.Z,{size:"small",variant:"contained",startIcon:(0,f.jsx)(o.Z,{}),component:u.rU,to:h.D2.CART,children:t("button.Edit",{ns:"client"})})]}),(0,f.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,f.jsx)(c.Z,{children:t("common.Sub Total",{ns:"client"})}),(0,f.jsx)(c.Z,{sx:{fontWeight:600},children:(0,m.j)(Z)})]}),(0,f.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,f.jsx)(c.Z,{children:t("common.Discount",{ns:"client"})}),(0,f.jsx)(c.Z,{sx:{fontWeight:600},children:(0,m.j)(0)})]}),b&&(0,f.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,f.jsx)(c.Z,{children:t("common.Shipping",{ns:"client"})}),(0,f.jsx)(c.Z,{sx:{fontWeight:600},children:b.price?(0,m.j)(b.price):"Free"})]}),(0,f.jsx)(l.Z,{}),(0,f.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2,mb:1},children:[(0,f.jsx)(c.Z,{sx:{fontWeight:600},children:t("common.Total",{ns:"client"})}),(0,f.jsx)(c.Z,{sx:{fontWeight:600},color:"primary",children:(0,m.j)(Z+(b?b.price:0))})]}),(0,f.jsxs)(c.Z,{variant:"caption",sx:{textAlign:"right",display:"block"},children:["(",t("common.VAT included if applicable",{ns:"client"}),")"]})]})};n.Z=(0,i.memo)(v)},95854:function(e,n,t){t.r(n),t.d(n,{default:function(){return he}});var i=t(29439),o=t(72791),r=t(35010),a=t(87462),c=t(63366),s=t(79012),l=t(42071),d=t(98278);var u=o.createContext(void 0),h=t(67384),m=t(80184),x=["actions","children","defaultValue","name","onChange","value"],f=o.forwardRef((function(e,n){var t=e.actions,r=e.children,f=e.defaultValue,v=e.name,p=e.onChange,Z=e.value,j=(0,c.Z)(e,x),y=o.useRef(null),b=(0,d.Z)({controlled:Z,default:f,name:"RadioGroup"}),g=(0,i.Z)(b,2),C=g[0],S=g[1];o.useImperativeHandle(t,(function(){return{focus:function(){var e=y.current.querySelector("input:not(:disabled):checked");e||(e=y.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var I=(0,l.Z)(n,y),k=(0,h.Z)(v);return(0,m.jsx)(u.Provider,{value:{name:k,onChange:function(e){S(e.target.value),p&&p(e,e.target.value)},value:C},children:(0,m.jsx)(s.Z,(0,a.Z)({role:"radiogroup",ref:I},j,{children:r}))})})),v=t(26445),p=t(64554),Z=t(93517),j=t(20890),y=t(61889),b=t(70242),g=t(74512),C=t(15825),S=t(10703),I=t(36151),k=t(8785),w=t(55705),D=t(15897),P=t(91523),z=t(79271),A=t(99176),R=t(27735),N=t(4166),T=t(63039),M=t(85405),E=t(12583),B=t(38463),W=t(95306),_=t(9744),L=t(85523),O=t(4942),H=t(90767),q=t(12065),F=t(97278),G=t(93736),V=t(74223),U=(0,V.Z)((0,m.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Y=(0,V.Z)((0,m.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),$=t(47630),Q=(0,$.ZP)("span")({position:"relative",display:"flex"}),J=(0,$.ZP)(U,{skipSx:!0})({transform:"scale(1)"}),K=(0,$.ZP)(Y,{skipSx:!0})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})})}));var X=function(e){var n=e.checked,t=void 0!==n&&n,i=e.classes,o=void 0===i?{}:i,r=e.fontSize,c=(0,a.Z)({},e,{checked:t});return(0,m.jsxs)(Q,{className:o.root,ownerState:c,children:[(0,m.jsx)(J,{fontSize:r,className:o.background,ownerState:c}),(0,m.jsx)(K,{fontSize:r,className:o.dot,ownerState:c})]})},ee=t(14036),ne=t(78949).Z;var te=t(95159);function ie(e){return(0,te.Z)("MuiRadio",e)}var oe=(0,t(30208).Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),re=["checked","checkedIcon","color","icon","name","onChange","size"],ae=(0,$.ZP)(F.Z,{shouldForwardProp:function(e){return(0,$.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["color".concat((0,ee.Z)(t.color))]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({color:n.palette.text.secondary,"&:hover":{backgroundColor:(0,q.Fq)("default"===t.color?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&(0,O.Z)({},"&.".concat(oe.checked),{color:n.palette[t.color].main}),(0,O.Z)({},"&.".concat(oe.disabled),{color:n.palette.action.disabled}))}));var ce=(0,m.jsx)(X,{checked:!0}),se=(0,m.jsx)(X,{}),le=o.forwardRef((function(e,n){var t,i,r,s,l=(0,G.Z)({props:e,name:"MuiRadio"}),d=l.checked,h=l.checkedIcon,x=void 0===h?ce:h,f=l.color,v=void 0===f?"primary":f,p=l.icon,Z=void 0===p?se:p,j=l.name,y=l.onChange,b=l.size,g=void 0===b?"medium":b,C=(0,c.Z)(l,re),S=(0,a.Z)({},l,{color:v,size:g}),I=function(e){var n=e.classes,t=e.color,i={root:["root","color".concat((0,ee.Z)(t))]};return(0,a.Z)({},n,(0,H.Z)(i,ie,n))}(S),k=o.useContext(u),w=d,D=ne(y,k&&k.onChange),P=j;return k&&("undefined"===typeof w&&(r=k.value,w="object"===typeof(s=l.value)&&null!==s?r===s:String(r)===String(s)),"undefined"===typeof P&&(P=k.name)),(0,m.jsx)(ae,(0,a.Z)({type:"radio",icon:o.cloneElement(Z,{fontSize:null!=(t=se.props.fontSize)?t:g}),checkedIcon:o.cloneElement(x,{fontSize:null!=(i=ce.props.fontSize)?i:g}),ownerState:S,classes:I,name:P,checked:w,onChange:D,ref:n},C))})),de=function(e){var n=e.value,t=e.title,i=e.subTitle;return(0,m.jsx)(L.Z,{control:(0,m.jsx)(le,{}),label:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.Z,{sx:{fontWeight:600},children:t}),i&&(0,m.jsx)(j.Z,{variant:"caption",children:i})]}),value:n,sx:{border:1,borderRadius:1,borderColor:"divider",p:2,ml:0,width:"100%"}})},ue=(0,o.memo)(de),he=function(){var e=(0,D.$)().t,n=(0,B.TL)(),t=(0,B.CG)((function(e){return e})),a=t.checkout,c=a.location,s=a.paymentId,l=a.deliveryId,d=a.totalQuantity,u=a.totalMoney,h=a.carts,x=t.delivery.allDelivery,L=t.payment.allPayment,O=t.auth.userInfo,H=(0,o.useState)(!0),q=(0,i.Z)(H,2),F=q[0],G=q[1],V=(0,o.useMemo)((function(){return(0,N.xI)(x,L,{deliveryId:l,paymentId:s})}),[x,L,l,s]),U=(0,o.useMemo)((function(){return null===x||void 0===x?void 0:x.find((function(e){return e.id===l}))}),[x,l]);return(0,o.useEffect)((function(){F&&n((0,T.w0)()).then(k.SI).then((function(e){n((0,N.Y3)(e.length?e[0].id:""))})).finally((function(){n((0,M.Ox)()).then(k.SI).then((function(e){n((0,N.OP)(e.length?e[0].id:""))})).finally((function(){return G(!1)}))}))}),[n,F]),d?c?F?(0,m.jsx)(R.Z,{}):(0,m.jsxs)(v.Z,{children:[(0,m.jsx)(p.Z,{sx:{mt:2,mb:4},children:(0,m.jsxs)(Z.Z,{"aria-label":"breadcrumb",children:[(0,m.jsx)(A.Z,{to:"/",children:e("common.Home",{ns:"client"})}),(0,m.jsx)(j.Z,{color:"text.primary",children:e("common.Checkout - Payment",{ns:"client"})})]})}),(0,m.jsx)(y.ZP,{container:!0,spacing:3,sx:{mb:4},children:(0,m.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,m.jsx)(b.Z,{activeStep:2,alternativeLabel:!0,children:N.Z6.map((function(n){return(0,m.jsx)(g.Z,{children:(0,m.jsx)(C.Z,{children:e("common.".concat(n),{ns:"client"})})},n)}))})})}),(0,m.jsx)(w.J9,{initialValues:V,onSubmit:function(e,t){var i=t.setSubmitting;if(O&&c&&s&&l){var o={userId:O.id,locationId:c.id,paymentId:s,deliveryId:l,totalQuantity:d,totalMoney:u+(U?U.price:0),carts:Object.values(h).map((function(e){return{product:{id:e.product.id,price:e.product.price,quantity:e.product.quantity},quantity:e.quantity}}))};n((0,N.mv)(o)).then(k.SI).catch((function(){return(0,E.y)({dispatch:n})})).finally((function(){i(!1)}))}else i(!1)},children:function(t){var i=t.values,o=t.handleChange,a=t.isSubmitting;return(0,m.jsx)(w.l0,{children:(0,m.jsxs)(y.ZP,{container:!0,spacing:3,sx:{mb:3},children:[(0,m.jsxs)(y.ZP,{item:!0,xs:12,md:8,children:[(0,m.jsxs)(S.Z,{elevation:6,sx:{p:2,mb:3},children:[(0,m.jsx)(j.Z,{variant:"h6",sx:{mb:3,fontWeight:600},children:e("common.Delivery options",{ns:"client"})}),(0,m.jsx)(f,{name:"deliveryId",value:i.deliveryId,onChange:function(e){o(e),n((0,N.Y3)(Number(e.target.value)))},children:(0,m.jsx)(y.ZP,{container:!0,spacing:2,children:null===x||void 0===x?void 0:x.map((function(e){return(0,m.jsx)(y.ZP,{item:!0,xs:12,md:6,children:(0,m.jsx)(ue,{value:e.id,title:e.title,subTitle:"Delivered on Monday, August 12"})},e.id)}))})})]}),(0,m.jsxs)(S.Z,{elevation:6,sx:{p:2,mb:3},children:[(0,m.jsx)(j.Z,{variant:"h6",fontWeight:600,mb:3,children:e("common.Payment options",{ns:"client"})}),(0,m.jsx)(f,{name:"paymentId",value:i.paymentId,onChange:function(e){o(e),n((0,N.OP)(Number(e.target.value)))},children:(0,m.jsx)(y.ZP,{container:!0,spacing:2,children:null===L||void 0===L?void 0:L.map((function(e){return(0,m.jsx)(y.ZP,{item:!0,xs:12,children:(0,m.jsx)(ue,{value:e.id,title:e.title,subTitle:e.description})},e.id)}))})})]}),(0,m.jsx)(I.Z,{variant:"text",color:"inherit",startIcon:(0,m.jsx)(r.Z,{}),component:P.rU,to:N.D2.BILLING_AND_ADDRESS,sx:{textTransform:"capitalize"},children:e("button.Back",{ns:"client"})})]}),(0,m.jsxs)(y.ZP,{item:!0,xs:12,md:4,children:[c&&(0,m.jsx)(W.Z,{location:c,hiddenAction:!0,hasEditButton:!0}),(0,m.jsx)(_.Z,{hasEditButton:!0}),(0,m.jsx)(I.Z,{variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:a,children:e("button.Complete Order",{ns:"client"})})]})]})})}})]}):(0,m.jsx)(z.l_,{to:N.D2.BILLING_AND_ADDRESS}):(0,m.jsx)(z.l_,{to:N.D2.CART})}},83506:function(e,n,t){t.d(n,{j:function(){return i}});var i=function(e,n){return new Intl.NumberFormat("vi-VN",{style:n?void 0:"currency",currency:"VND"}).format(e)}},93840:function(e,n,t){var i=t(72791).createContext();n.Z=i},52930:function(e,n,t){t.d(n,{Z:function(){return r}});var i=t(72791),o=t(93840);function r(){return i.useContext(o.Z)}}}]);
//# sourceMappingURL=3273.d91e53ea.chunk.js.map