"use strict";(self.webpackChunkhighlands_ui=self.webpackChunkhighlands_ui||[]).push([[7727],{81544:function(e,n,l){var t=l(1413),i=l(45987),a=l(72791),r=l(68096),s=l(20890),u=l(99321),c=l(23786),o=l(47071),d=l(55705),h=l(763),m=l(15897),f=l(80184),x=["fullWidth","label","id","name","displayEmpty","variant","options","ns"],b=function(e){var n=e.fullWidth,l=e.label,a=e.id,b=e.name,p=e.displayEmpty,Z=void 0===p||p,j=e.variant,v=void 0===j?"filled":j,g=e.options,S=e.ns,W=void 0===S?"admin":S,C=(0,i.Z)(e,x),y=(0,m.$)().t,E=(0,d.u6)(),k=E.errors,I=E.touched,T=E.values,w=E.handleChange,L=(0,h.get)(k,b)&&(0,h.get)(I,b),P=(0,h.get)(k,b);return(0,f.jsxs)(r.Z,{sx:{minWidth:120},fullWidth:n,children:[l&&(0,f.jsx)(s.Z,{sx:{mb:1,fontWeight:"fontWeightMedium"},children:(0,f.jsx)("label",{htmlFor:"label-".concat(a||b),children:y("label.".concat(l),{ns:W})})}),(0,f.jsxs)(d.gN,(0,t.Z)((0,t.Z)({},C),{},{label:"",hiddenLabel:!0,displayEmpty:Z,labelId:"label-".concat(a||b),component:u.Z,onChange:w,id:a||b,name:b,variant:v,error:!!L,value:(0,h.get)(T,b),inputProps:{name:b},children:[(0,f.jsx)(c.Z,{value:"",children:(0,f.jsx)("em",{children:y("common.None",{ns:W})})}),g.map((function(e){return(0,f.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))]})),P&&(0,f.jsx)(o.Z,{error:!0,children:P})]})};n.Z=(0,a.memo)(b)},37727:function(e,n,l){l.r(n);var t=l(15861),i=l(29439),a=l(87757),r=l.n(a),s=l(72791),u=l(64554),c=l(8785),o=l(55705),d=l(79271),h=l(93209),m=l(48095),f=l(81544),x=l(15504),b=l(27735),p=l(50059),Z=l(8056),j=l(15907),v=l(38355),g=l(12583),S=l(66783),W=l(82179),C=l(38463),y=l(80184);n.default=function(){var e=(0,d.k6)(),n=(0,C.TL)(),l=(0,C.CG)((function(e){return e.article})).articleDetail,a=(0,C.CG)((function(e){return e.category})).allCategory,E=(0,d.UO)().articleId,k=(0,s.useState)(!0),I=(0,i.Z)(k,2),T=I[0],w=I[1],L=(0,s.useMemo)((function(){return E&&l?(0,j.lW)(l):j.xW}),[l,E]),P=(0,s.useMemo)((function(){return(null===a||void 0===a?void 0:a.map((function(e){return{label:e.title,value:e.id}})))||[]}),[a]),A=function(){var l=(0,t.Z)(r().mark((function l(t,i){var a,s;return r().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(a=i.setSubmitting,!(t.thumbnail instanceof File)){l.next=6;break}return l.next=4,(0,S.I)(t.thumbnail);case 4:(s=l.sent)&&(t.thumbnail=s);case 6:n(E?(0,j.R7)({data:t,articleId:Number(E)}):(0,j.fD)(t)).then(c.SI).then((function(){n((0,W.WP)({message:E?Z.F.UPDATE_SUCCESS:Z.F.CREATE_SUCCESS})),e.push(j.pm.LIST)})).catch((function(){return(0,g.y)({dispatch:n})})).finally((function(){return a(!1)}));case 8:case"end":return l.stop()}}),l)})));return function(e,n){return l.apply(this,arguments)}}();return(0,s.useEffect)((function(){E?n((0,j.PQ)(Number(E))).finally((function(){return w(!1)})):w(!1)}),[n,E]),(0,s.useEffect)((function(){n((0,v.KQ)({type:v.o5.ARTICLE}))}),[n]),T?(0,y.jsx)(b.Z,{}):(0,y.jsx)(o.J9,{initialValues:L,validationSchema:j.jP,onSubmit:A,children:function(e){var n=e.isSubmitting;return(0,y.jsxs)(o.l0,{children:[(0,y.jsx)(m.Z,{linkBack:j.pm.LIST,isSubmitting:n}),(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(x.Z,{name:"title",label:"Title",placeholder:"example",fullWidth:!0})}),(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(f.Z,{name:"categoryId",label:"Categories",options:P,fullWidth:!0})}),(0,y.jsx)(p.Z,{name:"thumbnail",label:"Thumbnail"}),(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(x.Z,{name:"source",label:"Source",placeholder:"example",fullWidth:!0})}),(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(x.Z,{name:"author",label:"Author",placeholder:"example",fullWidth:!0})}),(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(x.Z,{name:"description",label:"Description",placeholder:"example",multiline:!0,fullWidth:!0,rows:3})}),(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(x.Z,{name:"content",label:"Content",placeholder:"example",multiline:!0,fullWidth:!0,rows:5})}),(0,y.jsx)(u.Z,{sx:{mb:3},children:(0,y.jsx)(f.Z,{name:"status",label:"Status",options:j.VS,fullWidth:!0})})]})]})}})}}}]);
//# sourceMappingURL=7727.8c3bad58.chunk.js.map