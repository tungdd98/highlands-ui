"use strict";(self.webpackChunkhighlands_ui=self.webpackChunkhighlands_ui||[]).push([[1897],{93209:function(e,t,n){var r=n(72791),a=n(64554),i=n(10703),o=n(80184),s=function(e){var t=e.children;return(0,o.jsx)(a.Z,{component:i.Z,sx:function(e){return{maxWidth:e.breakpoints.values.md,width:"100%",mx:"auto",px:3,py:3,my:5}},elevation:3,children:t})};t.Z=(0,r.memo)(s)},48095:function(e,t,n){var r=n(72791),a=n(64554),i=n(10703),o=n(36151),s=n(15897),c=n(91523),u=n(80184),l=function(e){var t=e.linkBack,n=e.isSubmitting,r=(0,s.$)().t;return(0,u.jsx)(a.Z,{component:i.Z,elevation:3,sx:{px:2,position:"sticky",top:0,zIndex:9},children:(0,u.jsxs)(a.Z,{sx:function(e){return{maxWidth:e.breakpoints.values.md,width:"100%",mx:"auto",py:1.25,display:"flex",justifyContent:"space-between"}},children:[(0,u.jsx)(o.Z,{variant:"contained",color:"secondary",component:c.rU,to:t,children:r("button.Back",{ns:"admin"})}),(0,u.jsx)(o.Z,{variant:"contained",color:"primary",type:"submit",disabled:n,children:r("button.Save changes",{ns:"admin"})})]})})};t.Z=(0,r.memo)(l)},15504:function(e,t,n){var r=n(1413),a=n(45987),i=n(72791),o=n(20890),s=n(48550),c=n(55705),u=n(763),l=n(15897),d=n(80184),h=["label","id","name","variant","ns","placeholder"],p=function(e){var t=e.label,n=e.id,i=e.name,p=e.variant,f=void 0===p?"filled":p,m=e.ns,g=void 0===m?"admin":m,v=e.placeholder,x=(0,a.Z)(e,h),b=(0,l.$)().t,Z=(0,c.u6)(),w=Z.errors,C=Z.touched,j=Z.values,R=Z.handleBlur,k=Z.handleChange,y=(0,u.get)(w,i)&&(0,u.get)(C,i),S=(0,u.get)(w,i);return(0,d.jsxs)(d.Fragment,{children:[t&&(0,d.jsx)(o.Z,{sx:{mb:1,fontWeight:"fontWeightMedium"},children:(0,d.jsx)("label",{htmlFor:n||i,children:b("label.".concat(t),{ns:g})})}),(0,d.jsx)(c.gN,(0,r.Z)((0,r.Z)({},x),{},{component:s.Z,onChange:k,onBlur:R,id:n||i,name:i,variant:f,error:!!y,helperText:y&&b(S,{ns:g}),value:(0,u.get)(j,i),autoComplete:"off",hiddenLabel:!0,label:"",placeholder:v?b("placeholder.".concat(v),{ns:g}):""}))]})};t.Z=(0,i.memo)(p)},53287:function(e,t,n){var r,a=n(1413),i=n(29439),o=n(45987),s=n(4942),c=n(72791),u=n(47630),l=n(64554),d=n(763),h=n(17178),p=n(87198),f=n(80184),m=["src","alt","file","resizedDimension","borderRadius","aspectRatio","width","fakeImages"],g=(0,u.ZP)("img")((function(){return{maxWidth:"100%",height:"100%",display:"block",objectFit:"cover"}})),v=(r={},(0,s.Z)(r,p.zl.PRODUCT,p.gF),(0,s.Z)(r,p.zl.BANNER,p.g_),r),x=function(e){var t=e.src,n=e.alt,r=void 0===n?"alt":n,s=e.file,u=e.resizedDimension,x=e.borderRadius,b=void 0===x?1:x,Z=e.aspectRatio,w=e.width,C=e.fakeImages,j=void 0===C?p.zl.PRODUCT:C,R=(0,o.Z)(e,m),k=(0,c.useState)(),y=(0,i.Z)(k,2),S=y[0],E=y[1],U=(0,c.useRef)(null),I=(0,c.useCallback)((function(){U.current&&Z&&U.current.width&&U.current.style.setProperty("height","".concat(U.current.width/Z,"px"))}),[Z]),D=(0,c.useCallback)((function(){I()}),[I]);(0,c.useEffect)((function(){var e=new FileReader;if(s&&s instanceof File)e.onloadend=function(e){if(u){var t,n,r=document.createElement("canvas");r.width=u.width,r.height=u.height;var a=r.getContext("2d"),i=new Image;i.onload=function(){a.drawImage(i,0,0,u.width,u.height);var e=r.toDataURL(s.type);E(e)},i.src=(null===(t=e.target)||void 0===t||null===(n=t.result)||void 0===n?void 0:n.toString())||""}else{var o,c;E(null===(o=e.target)||void 0===o||null===(c=o.result)||void 0===c?void 0:c.toString())}},e.readAsDataURL(s);else if("string"===typeof s){if(S===s)return;E(s)}else{if(null===S)return;E(null)}}),[s,S,u]);var P=(0,c.useMemo)((function(){return t?t.match(/^(blob:)?https?:\/\/[\w/:%#$&?()~.=+-]+$/g)?t:"".concat("http://localhost:8080/uploads/"+t):""}),[t]);return(0,f.jsx)(l.Z,{sx:{width:"100%"},children:(0,f.jsx)(g,(0,a.Z)((0,a.Z)({src:S||P||h,alt:r},R),{},{sx:{borderRadius:b,width:w||"100%"},onError:function(e){var t=e.currentTarget;t.onerror=null,t.src=(0,d.sample)(v[j])||""},ref:function(e){e&&(U.current=e,e.onload=D,e.complete&&D())},style:{height:R.height}}))})};t.Z=(0,c.memo)(x)},50059:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(1413),a=n(4942),i=n(15861),o=n(29439),s=n(45987),c=n(87757),u=n.n(c),l=n(72791),d=n(57859),h=n(64554),p=n(5289),f=n(65661),m=n(39157),g=n(20890),v=n(69250),x=n(97123),b=n(36151),Z=n(47071),w=n(55705),C=n(99998),j=n(763),R=n(97005),k=n(15897),y=n(87198),S=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){return t(r)})),r.addEventListener("error",(function(e){return n(e)})),r.setAttribute("crossOrigin","anonymous"),r.src=e}))},E=function(e){return e*Math.PI/180},U=function(e,t,n){var r=E(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}},I=function(){var e=(0,i.Z)(u().mark((function e(t,n){var r,a,i,o,s,c,l,d,h,p,f=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]?f[2]:0,a=f.length>3&&void 0!==f[3]?f[3]:{horizontal:!1,vertical:!1},e.next=4,S(t);case 4:if(i=e.sent,o=document.createElement("canvas"),s=o.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:return c=E(r),l=U(i.width,i.height,r),d=l.width,h=l.height,o.width=d,o.height=h,s.translate(d/2,h/2),s.rotate(c),s.scale(a.horizontal?-1:1,a.vertical?-1:1),s.translate(-i.width/2,-i.height/2),s.drawImage(i,0,0),p=s.getImageData(n.x||0,n.y||0,n.width,n.height),o.width=n.width,o.height=n.height,s.putImageData(p,0,0),e.abrupt("return",new Promise((function(e){o.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r,a,i,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,S(t);case 3:return r=e.sent,a=document.createElement("canvas"),i=a.getContext("2d"),90===n||-90===n||270===n||-270===n?(a.width=r.height,a.height=r.width):(a.width=r.width,a.height=r.height),i.translate(a.width/2,a.height/2),i.rotate(n*Math.PI/180),i.drawImage(r,-r.width/2,-r.height/2),e.abrupt("return",new Promise((function(e){a.toBlob((function(t){e(URL.createObjectURL(t))}),"image/png")})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)}),!1),n.readAsDataURL(e)}))},F=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="image.jpg",e.next=4,fetch(t,{cache:"no-cache"});case 4:return r=e.sent,e.next=7,r.blob();case 7:return a=e.sent,i=r.headers.get("content-type")||void 0,e.abrupt("return",new File([a],n,{type:i}));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),L=n(53287),M=n(80184),O=["id","name","label","cropAspectRatio"],T=function(e){var t=e.id,n=e.name,c=e.label,S=e.cropAspectRatio,E=void 0===S?y.tB.SIXTEEN_TO_NINE:S,U=(0,s.Z)(e,O),T=(0,k.$)().t,_=(0,w.u6)(),A=_.setFieldValue,z=_.values,W=_.errors,B=(0,l.useState)(!1),N=(0,o.Z)(B,2),$=N[0],V=N[1],X=(0,l.useState)(null),q=(0,o.Z)(X,2),G=q[0],H=q[1],J=(0,l.useState)(0),K=(0,o.Z)(J,2),Q=K[0],Y=K[1],ee=(0,l.useState)({x:0,y:0}),te=(0,o.Z)(ee,2),ne=te[0],re=te[1],ae=(0,l.useState)(1),ie=(0,o.Z)(ae,2),oe=ie[0],se=ie[1],ce=(0,l.useState)(null),ue=(0,o.Z)(ce,2),le=ue[0],de=ue[1],he=(0,l.useState)(null),pe=(0,o.Z)(he,2),fe=pe[0],me=pe[1],ge=(0,l.useRef)(null),ve=(0,j.get)(z,n),xe=(0,j.get)(W,n),be=function(){var e=(0,i.Z)(u().mark((function e(t){var n,r,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=16;break}return n=t.target.files[0],ge.current&&(ge.current.value=""),e.next=5,P(n);case 5:return r=e.sent,e.next=8,(0,C.getOrientation)(n);case 8:if(a=e.sent,!(i=(0,j.get)(y.pl,a))){e.next=14;break}return e.next=13,D(r,i);case 13:r=e.sent;case 14:H(r),V(!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=(0,l.useCallback)((0,i.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,I(G,le,Q);case 5:return t=e.sent,me(t),e.next=9,F("".concat(t));case 9:r=e.sent,V(!1),Y(0),se(0),r&&A(n,r),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(2);case 18:case"end":return e.stop()}}),e,null,[[2,16]])}))),[G,le,Q,A,n]);return(0,M.jsxs)(h.Z,(0,r.Z)((0,r.Z)({sx:{mb:3,maxWidth:480}},U),{},{children:[(0,M.jsxs)(p.Z,{open:$,maxWidth:"md",keepMounted:!0,fullWidth:!0,children:[(0,M.jsx)(f.Z,{children:T("button.Crop Image",{ns:"admin"})}),G&&(0,M.jsxs)(m.Z,{children:[(0,M.jsx)(h.Z,{sx:function(e){return(0,a.Z)({position:"relative",width:"100%",height:200,background:"#333"},e.breakpoints.up("sm"),{height:400})},children:(0,M.jsx)(R.Z,{image:G,crop:ne,rotation:Q,zoom:oe,aspect:E,onCropChange:re,onRotationChange:Y,onCropComplete:function(e,t){de(t)},onZoomChange:se})}),(0,M.jsxs)(h.Z,{sx:{my:1},children:[(0,M.jsx)(g.Z,{variant:"overline",children:T("button.Zoom",{ns:"admin"})}),(0,M.jsx)(v.ZP,{value:oe,min:1,max:3,step:.1,"aria-labelledby":"zoom",onChange:function(e,t){return se(t)},sx:{marginLeft:1}})]}),(0,M.jsxs)(h.Z,{children:[(0,M.jsx)(g.Z,{variant:"overline",children:T("button.Rotation",{ns:"admin"})}),(0,M.jsx)(v.ZP,{value:Q,min:1,max:3,step:.1,"aria-labelledby":"rotation",onChange:function(e,t){return Y(t)},sx:{marginLeft:1}})]})]}),(0,M.jsxs)(x.Z,{children:[(0,M.jsx)(b.Z,{onClick:function(){V(!1),me(null),Y(0),se(1),re({x:0,y:0})},children:T("button.Cancel",{ns:"admin"})}),(0,M.jsx)(b.Z,{autoFocus:!0,variant:"contained",onClick:Ze,children:T("button.Crop image",{ns:"admin"})})]})]}),c&&(0,M.jsx)(g.Z,{sx:{mb:1,fontWeight:500},children:(0,M.jsx)("label",{htmlFor:t||n,children:T("label.".concat(c),{ns:"admin"})})}),(0,M.jsx)(L.Z,{src:fe||ve}),xe&&(0,M.jsx)(Z.Z,{error:!0,children:xe}),(0,M.jsx)(h.Z,{sx:{mt:2},children:(0,M.jsxs)("label",{htmlFor:t||n,children:[(0,M.jsx)("input",{accept:"image/*",id:t||n,multiple:!0,type:"file",hidden:!0,name:n,onChange:be,ref:ge}),(0,M.jsx)(b.Z,{variant:"contained",component:"span",startIcon:(0,M.jsx)(d.Z,{}),children:T("button.Upload",{ns:"admin"})})]})})]}))},_=(0,l.memo)(T)},8056:function(e,t,n){var r;n.d(t,{F:function(){return r}}),function(e){e.CREATE_SUCCESS="Created success",e.DELETE_SUCCESS="Deleted success",e.UPDATE_SUCCESS="Updated success",e.ERROR="Something error",e.ADD_PRODUCT_SUCCESS="Add product success",e.OVER_PRODUCT_IN_CART="Over product"}(r||(r={}))},12583:function(e,t,n){n.d(t,{y:function(){return i}});var r=n(8056),a=n(82179),i=function(e){(0,e.dispatch)((0,a.WP)({message:r.F.ERROR}))}},66783:function(e,t,n){n.d(t,{I:function(){return c}});var r=n(15861),a=n(87757),i=n.n(a),o=n(74569),s=n.n(o),c=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",s()({method:"post",url:"".concat("http://localhost:8080/api","/upload/post"),data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data.file.filename})).catch((function(){return null})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},17178:function(e,t,n){e.exports=n.p+"static/media/no-image.d09e503817275d6b9eb4.png"}}]);
//# sourceMappingURL=1897.d120d1db.chunk.js.map