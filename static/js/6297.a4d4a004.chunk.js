"use strict";(self.webpackChunkhighlands_ui=self.webpackChunkhighlands_ui||[]).push([[6297],{81544:function(e,n,t){var i=t(1413),s=t(45987),a=t(72791),r=t(68096),l=t(20890),o=t(99321),c=t(23786),d=t(47071),u=t(55705),h=t(763),m=t(15897),x=t(80184),Z=["fullWidth","label","id","name","displayEmpty","variant","options","ns"],f=function(e){var n=e.fullWidth,t=e.label,a=e.id,f=e.name,g=e.displayEmpty,p=void 0===g||g,j=e.variant,b=void 0===j?"filled":j,v=e.options,w=e.ns,S=void 0===w?"admin":w,P=(0,s.Z)(e,Z),y=(0,m.$)().t,C=(0,u.u6)(),E=C.errors,I=C.touched,R=C.values,D=C.handleChange,T=(0,h.get)(E,f)&&(0,h.get)(I,f),k=(0,h.get)(E,f);return(0,x.jsxs)(r.Z,{sx:{minWidth:120},fullWidth:n,children:[t&&(0,x.jsx)(l.Z,{sx:{mb:1,fontWeight:"fontWeightMedium"},children:(0,x.jsx)("label",{htmlFor:"label-".concat(a||f),children:y("label.".concat(t),{ns:S})})}),(0,x.jsxs)(u.gN,(0,i.Z)((0,i.Z)({},P),{},{label:"",hiddenLabel:!0,displayEmpty:p,labelId:"label-".concat(a||f),component:o.Z,onChange:D,id:a||f,name:f,variant:b,error:!!T,value:(0,h.get)(R,f),inputProps:{name:f},children:[(0,x.jsx)(c.Z,{value:"",children:(0,x.jsx)("em",{children:y("common.None",{ns:S})})}),v.map((function(e){return(0,x.jsx)(c.Z,{value:e.value,children:e.label},e.value)}))]})),k&&(0,x.jsx)(d.Z,{error:!0,children:k})]})};n.Z=(0,a.memo)(f)},53287:function(e,n,t){var i,s=t(1413),a=t(29439),r=t(45987),l=t(4942),o=t(72791),c=t(47630),d=t(64554),u=t(763),h=t(17178),m=t(87198),x=t(80184),Z=["src","alt","file","resizedDimension","borderRadius","aspectRatio","width","fakeImages"],f=(0,c.ZP)("img")((function(){return{maxWidth:"100%",height:"100%",display:"block",objectFit:"cover"}})),g=(i={},(0,l.Z)(i,m.zl.PRODUCT,m.gF),(0,l.Z)(i,m.zl.BANNER,m.g_),i),p=function(e){var n=e.src,t=e.alt,i=void 0===t?"alt":t,l=e.file,c=e.resizedDimension,p=e.borderRadius,j=void 0===p?1:p,b=e.aspectRatio,v=e.width,w=e.fakeImages,S=void 0===w?m.zl.PRODUCT:w,P=(0,r.Z)(e,Z),y=(0,o.useState)(),C=(0,a.Z)(y,2),E=C[0],I=C[1],R=(0,o.useRef)(null),D=(0,o.useCallback)((function(){R.current&&b&&R.current.width&&R.current.style.setProperty("height","".concat(R.current.width/b,"px"))}),[b]),T=(0,o.useCallback)((function(){D()}),[D]);(0,o.useEffect)((function(){var e=new FileReader;if(l&&l instanceof File)e.onloadend=function(e){if(c){var n,t,i=document.createElement("canvas");i.width=c.width,i.height=c.height;var s=i.getContext("2d"),a=new Image;a.onload=function(){s.drawImage(a,0,0,c.width,c.height);var e=i.toDataURL(l.type);I(e)},a.src=(null===(n=e.target)||void 0===n||null===(t=n.result)||void 0===t?void 0:t.toString())||""}else{var r,o;I(null===(r=e.target)||void 0===r||null===(o=r.result)||void 0===o?void 0:o.toString())}},e.readAsDataURL(l);else if("string"===typeof l){if(E===l)return;I(l)}else{if(null===E)return;I(null)}}),[l,E,c]);var k=(0,o.useMemo)((function(){return n?n.match(/^(blob:)?https?:\/\/[\w/:%#$&?()~.=+-]+$/g)?n:"".concat("http://localhost:8080/uploads/"+n):""}),[n]);return(0,x.jsx)(d.Z,{sx:{width:"100%"},children:(0,x.jsx)(f,(0,s.Z)((0,s.Z)({src:E||k||h,alt:i},P),{},{sx:{borderRadius:j,width:v||"100%"},onError:function(e){var n=e.currentTarget;n.onerror=null,n.src=(0,u.sample)(g[S])||""},ref:function(e){e&&(R.current=e,e.onload=T,e.complete&&T())},style:{height:P.height}}))})};n.Z=(0,o.memo)(p)},26297:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var i=t(29439),s=t(72791),a=t(68593),r=t(64554),l=t(20890),o=t(36151),c=t(60902),d=t(15897),u=t(91523),h=t(27735),m=t(87198),x=t(29872),Z=t(38463),f=t(1413),g=t(23573),p=t(11566),j=t(10703),b=t(39281),v=t(79836),w=t(22041),S=t(35855),P=t(53994),y=t(53382),C=t(13400),E=t(67492),I=t(8785),R=t(79271),D=t(20139),T=t(47610),k=t(53287),W=t(8056),z=t(42185),A=t(12583),F=t(82179),L=t(80184),M=function(e){var n=e.banners,t=e.total,a=e.queries,r=e.setQueries,l=(0,d.$)().t,o=(0,Z.TL)(),u=(0,R.k6)(),h=(0,s.useState)(!1),M=(0,i.Z)(h,2),N=M[0],$=M[1],_=(0,s.useState)(null),O=(0,i.Z)(_,2),Q=O[0],U=O[1],q=(0,s.useState)(null),B=(0,i.Z)(q,2),V=B[0],Y=B[1];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(j.Z,{elevation:3,children:[(0,L.jsx)(b.Z,{children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(w.Z,{children:(0,L.jsxs)(S.Z,{children:[(0,L.jsx)(P.Z,{}),(0,L.jsx)(P.Z,{children:l("label.ID",{ns:"admin"})}),(0,L.jsx)(P.Z,{children:l("label.Title",{ns:"admin"})}),(0,L.jsx)(P.Z,{children:l("label.Thumbnail",{ns:"admin"})}),(0,L.jsx)(P.Z,{children:l("label.Link",{ns:"admin"})}),(0,L.jsx)(P.Z,{children:l("label.Status",{ns:"admin"})}),(0,L.jsx)(P.Z,{children:l("label.Created at",{ns:"admin"})})]})}),(0,L.jsx)(y.Z,{children:n.map((function(e){return(0,L.jsxs)(S.Z,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,L.jsx)(P.Z,{width:80,children:(0,L.jsx)(C.Z,{onClick:function(n){return function(e,n){Y(e.currentTarget),U(n)}(n,e)},children:(0,L.jsx)(g.Z,{})})}),(0,L.jsx)(P.Z,{component:"th",scope:"row",children:e.id}),(0,L.jsx)(P.Z,{children:e.title}),(0,L.jsx)(P.Z,{children:(0,L.jsx)(k.Z,{width:80,aspectRatio:m.tB.SIXTEEN_TO_NINE,src:e.thumbnail})}),(0,L.jsx)(P.Z,{children:e.link}),(0,L.jsx)(P.Z,{children:(0,L.jsx)(p.Z,{fontSize:"small",color:e.status===x.VQ.DISPLAY?"success":"error"})}),(0,L.jsx)(P.Z,{children:(0,z.p)(e.createdAt)})]},e.id)}))})]})}),(0,L.jsx)(E.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:t,rowsPerPage:(null===a||void 0===a?void 0:a.perPage)||5,page:a.page-1,onPageChange:function(e,n){r((function(e){return(0,f.Z)((0,f.Z)({},e),{},{page:n+1})}))},onRowsPerPageChange:function(e){r((function(n){return(0,f.Z)((0,f.Z)({},n),{},{page:1,perPage:parseInt(e.target.value,10)})}))},labelRowsPerPage:l("label.Rows per page",{ns:"admin"})})]}),(0,L.jsx)(D.Z,{open:N,onClose:function(){return $(!1)},onSubmit:function(){Q&&o((0,x.H_)(Q.id)).then(I.SI).then((function(){o((0,F.WP)({message:W.F.DELETE_SUCCESS})),r((function(e){return(0,f.Z)((0,f.Z)({},e),{},{page:1})}))})).catch((function(){return(0,A.y)({dispatch:o})})).finally((function(){return $(!1)}))},title:l("common.Do you want delete record?",{ns:"admin"})}),(0,L.jsx)(T.Z,{anchorEl:V,handleCloseMenu:function(){Y(null)},handleOpenDeleteDialog:function(){$(!0)},handleRedirectEditPage:function(){Q&&u.push((0,c.MY)(x.ow.EDIT)({mode:m.$y.EDIT,bannerId:Q.id}))}})]})},N=(0,s.memo)(M),$=t(61889),_=t(55705),O=t(763),Q=t(81544),U=t(15504),q=function(e){var n=e.isSubmitting,t=e.setIsSubmitting,i=e.queries,s=e.setQueries,a=(0,d.$)().t;return(0,L.jsxs)(r.Z,{sx:{p:3,mb:4},component:j.Z,elevation:3,children:[(0,L.jsx)(l.Z,{variant:"h5",children:a("button.Search",{ns:"admin"})}),(0,L.jsx)(r.Z,{sx:{mt:3},children:(0,L.jsx)(_.J9,{validationSchema:x.sx,initialValues:i,onSubmit:function(e){s(e),Object.values((0,O.omit)(e,["page","perPage"])).some((function(e){return!!e}))&&t(!0)},children:(0,L.jsxs)(_.l0,{children:[(0,L.jsxs)($.ZP,{container:!0,spacing:2,children:[(0,L.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,L.jsx)(U.Z,{name:"id",label:"ID",placeholder:"example",fullWidth:!0})}),(0,L.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,L.jsx)(U.Z,{name:"title",label:"Title",placeholder:"example",fullWidth:!0})}),(0,L.jsx)($.ZP,{item:!0,xs:12,sm:4,children:(0,L.jsx)(Q.Z,{name:"status",label:"Status",options:x.Q1,fullWidth:!0})})]}),(0,L.jsx)(r.Z,{sx:{textAlign:"right",mt:2},children:(0,L.jsx)(o.Z,{variant:"contained",color:"secondary",size:"large",type:"submit",disabled:n,children:a("button.Search",{ns:"admin"})})})]})})})]})},B=(0,s.memo)(q),V=function(){var e=(0,d.$)().t,n=(0,Z.TL)(),t=(0,Z.CG)((function(e){return e.banner})).banners,f=(0,s.useState)(!0),g=(0,i.Z)(f,2),p=g[0],j=g[1],b=(0,s.useState)(!1),v=(0,i.Z)(b,2),w=v[0],S=v[1],P=(0,s.useState)(x.AF),y=(0,i.Z)(P,2),C=y[0],E=y[1];return(0,s.useEffect)((function(){n((0,x.nA)(C)).finally((function(){j(!1),S(!1)}))}),[n,C]),p?(0,L.jsx)(h.Z,{}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(r.Z,{sx:{display:"flex",py:3,alignItems:"center",justifyContent:"space-between"},children:[(0,L.jsxs)(l.Z,{variant:"h5",children:[e("common.Manage",{ns:"admin"}),"\xa0",e("sidebar.Banners",{ns:"admin"})]}),(0,L.jsx)(o.Z,{variant:"contained",startIcon:(0,L.jsx)(a.Z,{}),component:u.rU,size:"large",to:(0,c.MY)(x.ow.EDIT)({mode:m.$y.CREATE}),children:e("button.Add new",{ns:"admin"})})]}),(0,L.jsx)(B,{isSubmitting:w,setIsSubmitting:S,queries:C,setQueries:E}),t&&t.list.length?(0,L.jsx)(N,{banners:t.list,total:t.totalItems,queries:C,setQueries:E}):(0,L.jsx)(l.Z,{children:e("common.No data",{ns:"admin"})})]})}},68593:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"}),"AddRounded")},11566:function(e,n,t){var i=t(74223),s=t(80184);n.Z=(0,i.Z)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"CircleRounded")},17178:function(e,n,t){e.exports=t.p+"static/media/no-image.d09e503817275d6b9eb4.png"}}]);
//# sourceMappingURL=6297.a4d4a004.chunk.js.map